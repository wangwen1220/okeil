var scrolltotop={setting:{startline:100,scrollto:0,scrollduration:1000,fadeduration:[500,100]},controlHTML:"<img src=\"/img/common/up.png\" style=\"width:24px; height:24px\" />",controlattrs:{offsetx:5,offsety:5},anchorkeyword:"#top",state:{isvisible:false,shouldvisible:false},scrollup:function(){if(!this.cssfixedsupport){this.$control.css({opacity:0})}var A=isNaN(this.setting.scrollto)?this.setting.scrollto:parseInt(this.setting.scrollto);if(typeof A=="string"&&jQuery("#"+A).length==1){A=jQuery("#"+A).offset().top}else{A=0}this.$body.animate({scrollTop:A},this.setting.scrollduration)},keepfixed:function(){var C=jQuery(window);var B=C.scrollLeft()+C.width()-this.$control.width()-this.controlattrs.offsetx;var A=C.scrollTop()+C.height()-this.$control.height()-this.controlattrs.offsety;this.$control.css({left:B+"px",top:A+"px"})},togglecontrol:function(){var A=jQuery(window).scrollTop();if(!this.cssfixedsupport){this.keepfixed()}this.state.shouldvisible=(A>=this.setting.startline)?true:false;if(this.state.shouldvisible&&!this.state.isvisible){this.$control.stop().animate({opacity:1},this.setting.fadeduration[0]);this.state.isvisible=true}else{if(this.state.shouldvisible==false&&this.state.isvisible){this.$control.stop().animate({opacity:0},this.setting.fadeduration[1]);this.state.isvisible=false}}},init:function(){jQuery(document).ready(function(C){var A=scrolltotop;var B=document.all;A.cssfixedsupport=!B||B&&document.compatMode=="CSS1Compat"&&window.XMLHttpRequest;A.$body=(window.opera)?(document.compatMode=="CSS1Compat"?C("html"):C("body")):C("html,body");A.$control=C("<div id=\"topcontrol\">"+A.controlHTML+"</div>").css({position:A.cssfixedsupport?"fixed":"absolute",bottom:A.controlattrs.offsety,right:A.controlattrs.offsetx,opacity:0,cursor:"pointer"}).attr({title:"Scroll Back to Top"}).click(function(){A.scrollup();return false}).appendTo("body");if(document.all&&!window.XMLHttpRequest&&A.$control.text()!=""){A.$control.css({width:A.$control.width()})}A.togglecontrol();C("a[href=\""+A.anchorkeyword+"\"]").click(function(){A.scrollup();return false});C(window).bind("scroll resize",function(D){A.togglecontrol()})})}};scrolltotop.init()
